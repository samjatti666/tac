document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".visionaries-scroll"),t=document.querySelectorAll(".visionary-card"),l=window.innerWidth<=768,n=l?null:document.querySelector(".scroll-prev"),r=l?null:document.querySelector(".scroll-next");if(!e||!t.length)return;let o=!1;const c=l?.85*e.clientWidth:.8*e.clientWidth;let s,i,d=0,a=0;const v=()=>{if(!n||!r)return;const t=e.scrollLeft<=0,l=e.scrollLeft>=e.scrollWidth-e.clientWidth;n.disabled=t,r.disabled=l,n.style.opacity=t?"0":"1",r.style.opacity=l?"0":"1"},u=n=>{o||l||(o=!0,l||t.forEach(e=>{e.classList.remove("slide-left","slide-right")}),e.scrollBy({left:"next"===n?c:-c,behavior:l?"auto":"smooth"}),setTimeout(()=>{o=!1,l||v()},l?0:350))};n&&r&&(n.addEventListener("click",()=>{clearInterval(s),u("prev")}),r.addEventListener("click",()=>{clearInterval(s),u("next")}));const h=()=>{l||(s=setInterval(()=>{e.scrollLeft>=e.scrollWidth-e.clientWidth?e.scrollTo({left:0,behavior:"smooth"}):u("next"),v()},5e3))};e.addEventListener("touchstart",e=>{d=e.touches[0].clientX,clearInterval(s)}),e.addEventListener("touchmove",e=>{},{passive:!0}),e.addEventListener("touchend",e=>{if(l)return;a=e.changedTouches[0].clientX;const t=a-d;Math.abs(t)>50&&u(t>0?"prev":"next")}),e.addEventListener("scroll",()=>{l||(clearTimeout(i),i=setTimeout(v,50))}),l||(e.addEventListener("mouseover",()=>clearInterval(s)),e.addEventListener("mouseleave",h),v()),h()});